{% load static %}
<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8"/>
    <title>資料獵人 - DataHunter</title>
    <link rel="stylesheet" href="{% static 'css/style.css' %}">
</head>
<body>

{#<div class="layout-container">#}
<!-- 左側側欄 -->
<div class="sidebar">
    <div class="section logo">
        <h2>📑 資料獵人 - DataHunter</h2>
    </div>

    <div class="section">
        <label for="source-select">資料來源</label>
        <select id="source-select" class="dropdown">
            <option>健保資料</option>
            <option>疾病通報</option>
            <option>開放API</option>
        </select>
    </div>

    <div class="section description">
        <p><strong>說明：</strong></p>
        {% block source-description %}{% endblock %}
    </div>
    <div class="section description">
        <p><strong>注意事項：</strong></p>
        <p>本網站資料來源皆為使用爬蟲爬取之網路公開資料，請勿使用於商業用途，本網站僅用於教學、練習使用。</p>
    </div>
</div>


<!-- 主內容區 -->
<div class="main-content">
    <div class="header">
        {% block source-name %}{% endblock %}
        <label>
            <input type="text" placeholder="過濾器" style="flex: 2;"/>
        </label>
        <button class="btn">搜尋</button>
    </div>


    <div class="data-table-container">

        <!-- 資料呈現區塊 -->
        <div class="data-table">
            {% block data-table %}{% endblock %}
        </div>

        <!-- API 範例區塊 -->
{#        <div class="data-table">#}
{#            <div class="doc-card">#}
{#                <div>Request Example</div>#}
{#            </div>#}
{#            <div class="doc-card">#}
{#                <div>Response Example</div>#}
{#            </div>#}
{#        </div>#}

    </div>

</div>
{#</div>#}

</body>
</html>

<!-- 展開/收合的小腳本 -->
<script>
    function toggleText(id, field, button) {
        const preview = document.getElementById(field + '-preview-' + id);
        const full = document.getElementById(field + '-full-' + id);

        if (preview.style.display === 'none') {
            preview.style.display = 'inline';
            full.style.display = 'none';
            button.innerText = '展開';
        } else {
            preview.style.display = 'none';
            full.style.display = 'inline';
            button.innerText = '收合';
        }
    }

    // 綁定所有的 toggle 按鈕
    document.addEventListener('DOMContentLoaded', function () {
        const buttons = document.querySelectorAll('.toggle-button');
        buttons.forEach(function (button) {
            button.addEventListener('click', function () {
                const id = this.getAttribute('data-id');
                const field = this.getAttribute('data-field');
                toggleText(id, field, this);
            });
        });
    });
</script>
